name: Result Success or Failure

on:
  push:
    branches:
      - test-result-success-failure

jobs:
  ok:
    runs-on: ubuntu-latest
    steps:
      - run: |
          echo "hola"
  not-ok:
    runs-on: ubuntu-latest
    steps:
      - run: |
          asdfasdf
  finally:
    runs-on: ubuntu-latest
    if: always()
    needs:
      - ok
      - not-ok
    steps:
      - name: Dump job context
        env:
          JOB_CONTEXT: ${{ toJSON(job) }}
        run: echo "$JOB_CONTEXT"
      - name: Dump steps context
        env:
          STEPS_CONTEXT: ${{ toJSON(steps) }}
        run: echo "$STEPS_CONTEXT"
      - run: |
          echo ${{needs.ok}}
          echo ${{needs.not-ok}}